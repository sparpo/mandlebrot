<!DOCTYPE html>

<html>

<head>

    <title>html-js</title>

</head>

<body>

    <p align="center">

        <canvas id="mycanvas"></canvas>

    </p>

</body>

<script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script>

<script>

    var sketchProc = function(processingInstance) {

        with (processingInstance) {
			size(900, 900); //size of canvas

            frameRate(0); 

            background(255, 255, 200); //draws background colour

            // ---actual coding goes below this line, most functions and variables above this line---



            fill(0, 0, 0);

            stroke(255, 255, 255);
			var max = 1000;
            var row = 0;/*
			for(var row = 0; row<height;row++) {
				for(var col = 0; col<width;col++) {
					var cX = (col - width/2)*4/width;
					var cY = (row - height/2)*4/height;
					var n = 0;
					var x = 0;
					var y = 0;
                    while (n < max && x * x + y * y <= 4) { //checks if the distance to centre is greater than 2
                        xNew = x * x - y * y + cX; //real-coordinate
                        y = 2 * x * y + cY; //imaginary-coordinate
                        x = xNew;
						n++;
                    }
                    //console.log(n);
					if(n < max) {
                    //fill(255, 255, 255);
                    stroke(1/n, n, n*n*2);
					} else {
                    fill(0, 0, 0);
                    stroke(255, 255, 255);
					}
					point(col,row);
				}
            }*/
            draw = function () {
                if (row < height) {
                    for (var col = 0; col < width; col++) {
                        var cX = (col - width / 2) * 4 / width;
                        var cY = (row - height / 2) * 4 / height;
                        var n = 0;
                        var x = 0;
                        var y = 0;
                        while (n < max && x * x + y * y <= 4) { //checks if the distance to centre is greater than 2
                            xNew = x * x - y * y + cX; //real-coordinate
                            y = 2 * x * y + cY; //imaginary-coordinate
                            x = xNew;
                            n++;
                        }
                        //console.log(n);
                        if (n < max) {
                            //fill(255, 255, 255);
                            stroke(1 / n, n, n * n * 2);
                        } else {
                            fill(0, 0, 0);
                            stroke(255, 255, 255);
                        }
                        point(col, row);
                    }
                }
                row++;
            }
        }

    };

    var canvas = document.getElementById("mycanvas");



    var processingInstance = new Processing(canvas, sketchProc);



</script>

</html>